namespace SpriteKind {
    export const Obstacle = SpriteKind.create()
    export const Bullet = SpriteKind.create()
}
controller.B.onEvent(ControllerButtonEvent.Pressed, function () {
    projectile2 = sprites.createProjectileFromSprite(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . 4 4 . . . . . . . 
        . . . . . . 4 5 5 4 . . . . . . 
        . . . . . . 2 5 5 2 . . . . . . 
        . . . . . . . 2 2 . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `, bunny, 110, 0)
    projectile2.setKind(SpriteKind.Bullet)
    light.showAnimation(light.colorWipeAnimation, 300)
    light.clear()
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.Obstacle, function (sprite, otherSprite) {
    otherSprite.destroy(effects.confetti, 100)
    light.showAnimation(light.theaterChaseAnimation, 100)
    light.clear()
    info.changeLifeBy(-1)
})
sprites.onOverlap(SpriteKind.Bullet, SpriteKind.Enemy, function (sprite, otherSprite) {
    otherSprite.destroy(effects.fire, 100)
    projectile2.destroy()
    info.changeScoreBy(1)
    if (info.score() % 5 == 0) {
        scene.cameraShake(4, 500)
        level += 1
        if (level > 4) {
            level = 0
        }
        bunny.destroy()
        startLevel()
    }
})
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    animation.stopAnimation(animation.AnimationTypes.All, bunny)
    if (bunny.ay == 0) {
        bunny.setImage(img`
            .........ccc............
            .........cccccccc.......
            ......cc..cc55555cc.....
            ......cccc555555555c....
            ......ccb55555555555c...
            ...cc..b55555ff155555c..
            ...cccb5555555ff55d55c..
            ....ccb55555d55555555c..
            .....b55555d5555d5555c..
            ..cc.b555ddd55555bbbbc..
            ..cccd55ddddd5555d555c..
            ...ccdd5dbdddbbbd555c...
            ....bdddb555bbbbbccc....
            ..cccdddb555cbbbbbbc....
            ...ccddddb555cbbbbbbc...
            ....cdddddb555cbbbbbc...
            ...ccddddddb55cbbbbbcc..
            ..ccbddddd55bcbbbbbbcc..
            ccdddddddd5555bbbbbbc...
            cdddddddbdd555bbbbbc....
            .ccddddbbbdd55cbbccc....
            ...cccbbcbddddccdddcc...
            ......cccdd555dcccccc...
            ........cccccccc........
            `)
        bunny.vy = -160
        bunny.ay = gravity
    }
})
function createCloud () {
    cloud = sprites.createProjectileFromSide(clouds[randint(0, clouds.length - 1)], -10, 0)
    cloud.bottom = randint(30, 55)
    cloud.z = -2
}
function setupFrames () {
    birdFrames = [
    img`
        . . f f f . . . . . . . . f f f 
        . f f c c . . . . . . f c b b c 
        f f c c . . . . . . f c b b c . 
        f c f c . . . . . . f b c c c . 
        f f f c c . c c . f c b b c c . 
        f f c 3 c c 3 c c f b c b b c . 
        f f b 3 b c 3 b c f b c c b c . 
        . c b b b b b b c b b c c c . . 
        . c 1 b b b 1 b b c c c c . . . 
        c b b b b b b b b b c c . . . . 
        c b c b b b c b b b b f . . . . 
        f b 1 f f f 1 b b b b f c . . . 
        f b b b b b b b b b b f c c . . 
        . f b b b b b b b b c f . . . . 
        . . f b b b b b b c f . . . . . 
        . . . f f f f f f f . . . . . . 
        `,
    img`
        . . f f f . . . . . . . . . . . 
        f f f c c . . . . . . . . f f f 
        f f c c . . c c . . . f c b b c 
        f f c 3 c c 3 c c f f b b b c . 
        f f b 3 b c 3 b c f b b c c c . 
        . c b b b b b b c f b c b c c . 
        . c b b b b b b c b b c b b c . 
        c b 1 b b b 1 b b b c c c b c . 
        c b b b b b b b b c c c c c . . 
        f b c b b b c b b b b f c . . . 
        f b 1 f f f 1 b b b b f c c . . 
        . f b b b b b b b b c f . . . . 
        . . f b b b b b b c f . . . . . 
        . . . f f f f f f f . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `,
    img`
        . . . . . . . . . . . . . . . . 
        . . c c . . c c . . . . . . . . 
        . . c 3 c c 3 c c c . . . . . . 
        . c b 3 b c 3 b c c c . . . . . 
        . c b b b b b b b b f f . . . . 
        c c b b b b b b b b f f . . . . 
        c b 1 b b b 1 b b c f f f . . . 
        c b b b b b b b b f f f f . . . 
        f b c b b b c b c c b b b . . . 
        f b 1 f f f 1 b f c c c c . . . 
        . f b b b b b b f b b c c . . . 
        c c f b b b b b c c b b c . . . 
        c c c f f f f f f c c b b c . . 
        . c c c . . . . . . c c c c c . 
        . . c c c . . . . . . . c c c c 
        . . . . . . . . . . . . . . . . 
        `,
    img`
        . f f f . . . . . . . . f f f . 
        f f c . . . . . . . f c b b c . 
        f c c . . . . . . f c b b c . . 
        c f . . . . . . . f b c c c . . 
        c f f . . . . . f f b b c c . . 
        f f f c c . c c f b c b b c . . 
        f f f c c c c c f b c c b c . . 
        . f c 3 c c 3 b c b c c c . . . 
        . c b 3 b c 3 b b c c c c . . . 
        c c b b b b b b b b c c . . . . 
        c b 1 b b b 1 b b b b f c . . . 
        f b b b b b b b b b b f c c . . 
        f b c b b b c b b b b f . . . . 
        . f 1 f f f 1 b b b c f . . . . 
        . . f b b b b b b c f . . . . . 
        . . . f f f f f f f . . . . . . 
        `,
    img`
        . . f f f . . . . . . . . f f f 
        . f f c c . . . . . . f c b b c 
        f f c c . . . . . . f c b b c . 
        f c f c . . . . . . f b c c c . 
        f f f c c . c c . f c b b c c . 
        f f c 3 c c 3 c c f b c b b c . 
        f f b 3 b c 3 b c f b c c b c . 
        . c 1 b b b 1 b c b b c c c . . 
        . c 1 b b b 1 b b c c c c . . . 
        c b b b b b b b b b c c . . . . 
        c b 1 f f 1 c b b b b f . . . . 
        f f 1 f f 1 f b b b b f c . . . 
        f f 2 2 2 2 f b b b b f c c . . 
        . f 2 2 2 2 b b b b c f . . . . 
        . . f b b b b b b c f . . . . . 
        . . . f f f f f f f . . . . . . 
        `,
    img`
        . . f f f . . . . . . . . . . . 
        f f f c c . . . . . . . . f f f 
        f f c c c . c c . . . f c b b c 
        f f c 3 c c 3 c c f f b b b c . 
        f f c 3 b c 3 b c f b b c c c . 
        f c b b b b b b c f b c b c c . 
        c c 1 b b b 1 b c b b c b b c . 
        c b b b b b b b b b c c c b c . 
        c b 1 f f 1 c b b c c c c c . . 
        c f 1 f f 1 f b b b b f c . . . 
        f f f f f f f b b b b f c . . . 
        f f 2 2 2 2 f b b b b f c c . . 
        . f 2 2 2 2 2 b b b c f . . . . 
        . . f 2 2 2 b b b c f . . . . . 
        . . . f f f f f f f . . . . . . 
        . . . . . . . . . . . . . . . . 
        `,
    img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . c c . c c . . . . . . . . 
        . . f 3 c c 3 c c c . . . . . . 
        . f c 3 b c 3 b c c c . . . . . 
        f c b b b b b b b b f f . . . . 
        c c 1 b b b 1 b b b f f . . . . 
        c b b b b b b b b c f f f . . . 
        c b 1 f f 1 c b b f f f f . . . 
        f f 1 f f 1 f b c c b b b . . . 
        f f f f f f f b f c c c c . . . 
        f f 2 2 2 2 f b f b b c c c . . 
        . f 2 2 2 2 2 b c c b b c . . . 
        . . f 2 2 2 b f f c c b b c . . 
        . . . f f f f f f f c c c c c . 
        . . . . . . . . . . . . c c c c 
        `,
    img`
        . f f f . . . . . . . . f f f . 
        f f c . . . . . . . f c b b c . 
        f c c . . . . . . f c b b c . . 
        c f . . . . . . . f b c c c . . 
        c f f . . . . . f f b b c c . . 
        f f f c c . c c f b c b b c . . 
        f f f c c c c c f b c c b c . . 
        . f c 3 c c 3 b c b c c c . . . 
        . c b 3 b c 3 b b c c c c . . . 
        c c b b b b b b b b c c . . . . 
        c 1 1 b b b 1 1 b b b f c . . . 
        f b b b b b b b b b b f c c . . 
        f b c b b b c b b b b f . . . . 
        . f 1 f f f 1 b b b c f . . . . 
        . . f b b b b b b c f . . . . . 
        . . . f f f f f f f . . . . . . 
        `
    ]
    animation.runImageAnimation(
    bird,
    birdFrames,
    100,
    true
    )
    bunnyFrames = [
    img`
        ........................
        ........................
        ...........cc...........
        ...........cccc.........
        .......cc...ccccccc.....
        .......cccccc555555cc...
        ........ccb5555555555c..
        .....cc..b555555555555c.
        .....cccb555555ff155555c
        .....ccb55555555ff55d55c
        ......b5555555555555555c
        ...c..b555d55555bb13bbc.
        ...cccd55ddddd55bb3335c.
        ....cbdddddddddd55b335c.
        ..cccdddddb55bdddd5555c.
        ..cccdddddb555bbbbcccc..
        ...ccddddddb5555cbcdc...
        ccccbdddddddcb55cbcc....
        cddddddddd55dbccbbc.....
        cbdddddddd555dbbbcc.....
        .ccbdddbbdd555bbcdbcc...
        ...cccbbbbdd55ccdddbc...
        ......cccbdddbccccccc...
        ........cdd555dc........
        `,
    img`
        ........................
        ........................
        ...........ccc..........
        ...........cccc.........
        .......ccc..ccccccc.....
        .......cccccc555555cc...
        ........ccb5555555555c..
        .....cc..b555555555555c.
        .....cccb555555ff155555c
        ......cb55555555ff55d55c
        ......b5555555555555555c
        ...cc.b555dd5555bb13bbc.
        ...cccd55ddddd555b3335c.
        .....bdddddddddd55b335c.
        ..cccdddddb55bbddd5555c.
        ..cccdddddb555bbbbcccc..
        ...ccddddddb5555cbcdc...
        ccccbdddddd5cb55cbcc....
        cddddddddd5555ccbbc.....
        .cddddddbdd555bbbcc.....
        ..ccdddbbbdd55cbcdc.....
        ....ccbbcbddddccdddcc...
        ......cccdd555dcccccc...
        ........cccccccc........
        `,
    img`
        ........................
        ............cc..........
        ............ccc.........
        ........ccc.ccccccc.....
        ........ccccc555555cc...
        ........ccb5555555555c..
        .....ccc.b55555ff15555c.
        .....cccb5555555ff55555c
        ......cb555555555555d55c
        ....c.b555555555bb55555c
        ....ccb555ddd5555b13bbc.
        ....ccd55ddddd555b3335c.
        .....cdd5ddddddd55b335c.
        ...c.bddddb555bbbd555c..
        ...ccdddddbb55555bccc...
        ...ccdddddddcc555bcc....
        ...ccddddddddbcccbcccc..
        .ccbddddddd55dbbbbc55c..
        ccddddddddd555dbbcc5c...
        cddddddbbbdd555bbccc....
        .ccddddbbbbdd55bcc......
        ...cccbbbbbdddbcddcc....
        .....cccccdd555dcccc....
        ..........cccccc........
        `,
    img`
        ........................
        ............cc..........
        ............ccc.........
        ........ccc.ccccccc.....
        ........ccccc555555cc...
        ........ccb5555555555c..
        .....ccc.b55555ff15555c.
        .....cccb5555555ff55555c
        ......cb555555555555d55c
        ....c.b555555555bb55555c
        ....ccb555ddd5555b13bbc.
        ....ccd55ddddd555b3335c.
        .....cdd5ddddddd55b335c.
        ...c.bddddb555bbbd555c..
        ...ccdddddbb55555bccc...
        ...ccdddddddcc555bcc....
        .ccccdddddddddcccbcccc..
        .cdcdddddddd55dbbbc55c..
        .cdddddddddd555dccc5c...
        .cbddddbbbbdd5d555cc....
        ..cbdddbbbbbdd5555......
        ...cccbbbbbbd5555c......
        .....cccccccc555c.......
        .............ccc........
        `,
    img`
        ........................
        ............cc..........
        ............ccc.........
        ........ccc.ccccccc.....
        ........ccccc555555cc...
        ........ccb5555555555c..
        .....ccc.b55555ff15555c.
        .....cccb5555555ff55555c
        ......cb555555555555d55c
        ....c.b555555555bb55555c
        ....ccb555ddd5555b13bbc.
        ....ccd55ddddd555b3335c.
        .....cdd5ddddddd55b335c.
        ...c.bddddb555bbbd555c..
        ...ccdddddb555555bccc...
        ..cccddddddcc5555bcc....
        .cdccddddddddbcccbcccc..
        .cddbdddddddddbbbbc55c..
        .cdddddddddd55dbbbc5c...
        .cbddddbbbbd55ddbccc....
        ..cbdddbbbbd555dccc.....
        ...cccbbbbbbddd555c.....
        .....ccccccbd55555c.....
        ...........cc5555c......
        `,
    img`
        ........................
        ............cc..........
        ............ccc.........
        ........cc..ccccccc.....
        ........ccccc555555cc...
        ........ccb5555555555c..
        .....cc..b555555555555c.
        .....cccb555555ff155555c
        ......cb55555555ff55d55c
        ......b5555555555555555c
        ...cc.b555dd5555bb13bbc.
        ...cccd55ddddd555b3335c.
        ....ccdd5ddddddd55b335c.
        .....bddddb55bdddd5555c.
        ..cccdddddb55bbbbbcccc..
        .ccccddddddb5555cbcccc..
        .cdccdddddddc555cbc55c..
        .cdddddddddddcccbbc5c...
        .cbddddddd55dbbbbccc....
        .ccbdddddd555dbbbcbc....
        ..cccddbbbd555bbccc.....
        ....ccbbbbbd555cc.......
        ......ccccbddddbc.......
        ..........cd5555dc......
        `
    ]
    obstacles = [
    img`
        ......................
        ..........7...........
        ..........77..........
        .........677..........
        ........66777.........
        ........66777.........
        ........667777........
        .......6677777........
        ......66677777........
        ........66666.........
        ........6666..........
        .......6666677........
        ......666777777.......
        ......6667777777......
        ......66777777777.....
        ..66666777777777777...
        ...666667777766666....
        ........666677........
        ........666777........
        ......667777777.......
        ...66677777777777.....
        666677777777777777....
        6667777777777777777776
        ...666666777777777776.
        .....6666eeee77777666.
        .........eeee.........
        .........eeee.........
        .........eeee.........
        .......6.eeee..6......
        ...666...eeee.6.......
        ...6.6...eeee.........
        ......................
        `,
    img`
        ...................................
        ..........7........................
        ..........77.......................
        .........677.......................
        ........66777......................
        ........66777......................
        ........667777.....................
        .......6677777.....................
        ......66677777.....................
        ........66666......................
        ........6666.......................
        .......6666677.....................
        ......666777777....................
        ......6667777777...................
        ......66777777777..................
        ..66666777777777777................
        ...666667777766666.................
        ........666677.....................
        ........666777...........eeeee.....
        ......667777777.........eebbbee....
        ...66677777777777......eebeeebee...
        666677777777777777.....eebeebbee...
        6667777777777777777776..eebbeee....
        ...666666777777777776..ebeeeebbe...
        .....6666eeee77777666..eebbbbeee..e
        .........eeee..........eeeeeeee..e.
        .........eeee..........ebeebebe.e.e
        .........eeee..........ebeeeebee...
        .......6.eeee..6.......eeebeeee....
        ...666...eeee.6.......eebebebeee...
        ...6.6...eeee........eeeeeeeeeeee..
        ..........................ee.......
        `,
    img`
        ......................................
        ..........................7...........
        ..........................77..........
        .........................677..........
        ........................66777.........
        ........................66777.........
        ........................667777........
        .......................6677777........
        ......................66677777........
        ........................66666.........
        ........................6666..........
        .......................6666677........
        ......................666777777.......
        ......................6667777777......
        ......................66777777777.....
        ..................66666777777777777...
        ...................666667777766666....
        ........................666677........
        .....eeeee..............666777........
        ....eebbbee...........667777777.......
        ...eebeeebee.......66677777777777.....
        ...eebeebbee....666677777777777777....
        ....eebbeee.....6667777777777777777776
        ...ebeeeebbe.......666666777777777776.
        ...eebbbbeee..e......6666eeee77777666.
        ...eeeeeeee..e...........eeee.........
        ...ebeebebe.e.e..........eeee.........
        ...ebeeeebee.............eeee.........
        ...eeebeeee............6.eeee..6......
        ..eebebebeee.......666...eeee.6.......
        .eeeeeeeeeeee......6.6...eeee.........
        ......ee..............................
        `,
    img`
        ....................................................
        ..........................7.........................
        ..........................77........................
        .........................677........................
        ........................66777.......................
        ........................66777.......................
        ........................667777......................
        .......................6677777......................
        ......................66677777......................
        ........................66666.......................
        ........................6666........................
        .......................6666677......................
        ......................666777777.....................
        ......................6667777777....................
        ......................66777777777...................
        ..................66666777777777777.................
        ...................666667777766666..................
        ........................666677......................
        .....eeeee..............666777............eeeee.....
        ....eebbbee...........667777777..........eebbbee....
        ...eebeeebee.......66677777777777.......eebeeebee...
        ...eebeebbee....666677777777777777......eebeebbee...
        ....eebbeee.....6667777777777777777776...eebbeee....
        ...ebeeeeb.e.......666666777777777776...ebeeeebbe...
        ...eebbbbeee..e......6666eeee77777666...eebbbbeee..e
        ...eeeeeeee..e...........eeee...........eeeeeeee..e.
        ...ebeebebe.e.e..........eeee...........ebeebebe.e.e
        ...ebeeeebee.............eeee...........ebeeeebee...
        ...eeebeeee............6.eeee..6........eeebeeee....
        ..eebebebeee.......666...eeee.6........eebebebeee...
        .eeeeeeeeeeee......6.6...eeee.........eeeeeeeeeeee..
        ......ee...................................ee.......
        `,
    img`
        ...............
        ...............
        ...............
        ...............
        ...............
        ...............
        ...............
        ...............
        ...............
        ...............
        ...............
        ...............
        ...............
        ...............
        ...............
        ...............
        ...............
        ...............
        .....eeeee.....
        ....eebbbee....
        ...eebeeebee...
        ...eebeebbee...
        ....eebbeee....
        ...ebeeeebbe...
        ...eebbbbeee..e
        ...eeeeeeee..e.
        ...ebeebebe.e.e
        ...ebeeeebee...
        ...eeebeeee....
        ..eebebebeee...
        .eeeeeeeeeeee..
        ......ee.......
        `,
    img`
        .............................
        .............................
        .............................
        .............................
        .............................
        .............................
        .............................
        .............................
        .............................
        .............................
        .............................
        .............................
        .............................
        .............................
        .............................
        .............................
        .............................
        .............................
        .....eeeee.........eeeee.....
        ....eebbbee.......eebbbee....
        ...eebeeebee.....eebeeebee...
        ...eebeebbee.....eebeebbee...
        ....eebbeee.......eebbeee....
        ...ebeeeebbe.....ebeeeebbe...
        ...eebbbbeee..e..eebbbbeee..e
        ...eeeeeeee..e...eeeeeeee..e.
        ...ebeebebe.e.e..ebeebebe.e.e
        ...ebeeeebee.....ebeeeebee...
        ...eeebeeee......eeebeeee....
        ..eebebebeee....eebebebeee...
        .eeeeeeeeeeee..eeeeeeeeeeee..
        ......ee............ee.......
        `,
    img`
        ...........................................
        ...........................................
        ...........................................
        ...........................................
        ...........................................
        ...........................................
        ...........................................
        ...........................................
        ...........................................
        ...........................................
        ...........................................
        ...........................................
        ...........................................
        ...........................................
        ...........................................
        ...........................................
        ...........................................
        ...........................................
        .....eeeee.........eeeee.........eeeee.....
        ....eebbbee.......eebbbee.......eebbbee....
        ...eebeeebee.....eebeeebee.....eebeeebee...
        ...eebeebbee.....eebeebbee.....eebeebbee...
        ....eebbeee.......eebbeee.......eebbeee....
        ...ebeeeebbe.....ebeeeebbe.....ebeeeebbe...
        ...eebbbbeee..e..eebbbbeee..e..eebbbbeee..e
        ...eeeeeeee..e...eeeeeeee..e...eeeeeeee..e.
        ...ebeebebe.e.e..ebeebebe.e.e..ebeebebe.e.e
        ...ebeeeebee.....ebeeeebee.....ebeeeebee...
        ...eeebeeee......eeebeeee......eeebeeee....
        ..eebebebeee....eebebebeee....eebebebeee...
        .eeeeeeeeeeee..eeeeeeeeeeee..eeeeeeeeeeee..
        ......ee............ee............ee.......
        `
    ]
    animation.runImageAnimation(
    bunny,
    bunnyFrames,
    50,
    true
    )
    trees = [img`
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ...................d................
        ...................d................
        ...................d................
        ..................ddd...............
        ..................dd................
        .................dddd...............
        ................dddddd..............
        ..................dd................
        .................dddd...............
        ................dddddd..............
        ...............dddddddd.............
        ..............dd..dddddd............
        .................dddd..ddd..........
        ..................dd................
        .................dddd...............
        ................dddddd..............
        ...............ddddd.dd.............
        ..............dddddddddd............
        ............dddd.ddddddd............
        ..........ddddd..ddddd.dddd.........
        ................dddddd...ddd........
        ...............dddddddd.............
        ..............dddddd.dd.............
        ...........ddddddddddddd............
        .........dddddd..dddd.ddd...........
        ..........ddddd..dddd...............
        ................ddddddd.............
        ...............ddddddddd............
        .............ddddddddd..............
        ...........ddddddddddddddddd........
        ..........ddddddddddddddddd.........
        .........dddd.dddddddd..............
        ........dd....ddddddddd.............
        ............ddddddddddddd...........
        ........dddddddddddddddddddd........
        .......ddddddddddddddddddddddd......
        ......dddddddd...ddddddddd..........
        ..................ddd...............
        ..................ddd...............
        ..................ddd...............
        `, img`
        ...................d................
        ...................d................
        ...................d................
        ..................ddd...............
        .................dddddd.............
        ..................dd................
        ...................dddd.............
        .................ddddddd............
        ...............ddd.d................
        ..................ddd...............
        ...............ddddddd..............
        ................dddddddd............
        ..................dd.dddd...........
        ..................ddd...............
        .................dddddd.............
        .............ddddddd.dddd...........
        ............ddddd.ddd...............
        ..................ddd...............
        .................ddddd..............
        ..............dddddddd..............
        .............dddddddddd.............
        ............ddd..dddddddd...........
        ...........dddd.dddddddd.d..........
        ............d...ddddddddd...........
        ...............ddddddddddd..........
        ..............ddddddd.dddd..........
        .............ddddddddddddddd........
        ...........dddd.ddddddd.............
        ...............dddddd.dd............
        .............dddddddddddd...........
        ............dddddddddddddd..........
        ............dddddddddd..ddd.........
        .........dddddddddddddd..dddd.......
        ........dd...ddddddddd..............
        ..............ddddddddddd...........
        ............dddd.dddddddd...........
        ........dddd.d...ddddddd............
        ................ddddd..dddd.........
        .............ddddd.dddddddd.........
        .........dddddd..dddd..ddddd........
        ........dd.d....ddddd.....ddd.......
        ................ddddd...............
        ..................ddd...............
        ..................ddd...............
        ..................ddd...............
        ..................ddd...............
        ..................ddd...............
        ..................ddd...............
        `, img`
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ....................................
        ...................d................
        ...................d................
        ...................d................
        ...................d................
        ..................dd................
        ..................ddd...............
        .................dddd...............
        ...............ddddd................
        ..................dd................
        .................dddd...............
        .................dddd...............
        .................ddddd..............
        ................ddddddd.............
        ..............dddddddddd............
        ............dddd..ddddddd...........
        .................dddd...............
        .................dddd...............
        ................dddddd..............
        ................dddddd..............
        ...............dddddddd.............
        ............ddddddddddddd...........
        ........dddddddddddddddddddd........
        ...........dddddddddddddddd.........
        ................ddddddd.d...........
        ..............dddddddddddddddd......
        ...........dddddddddddddddddd.......
        ........ddddddddddddddddddd.........
        ..........ddddd...dddd..............
        ..................ddd...............
        ..................d.d...............
        ..................d.d...............
        ..................ddd...............
        ..................ddd...............
        `]
    grassImages = [
    img`
        . . . . . . . . 
        . . . . . . . . 
        . . . . . . . . 
        . . . . . . . . 
        . . . . b . . . 
        . . . . b . . . 
        . . . b b . . . 
        . . . b b . . . 
        `,
    img`
        . . . . . . . . 
        . . . . . . . . 
        . . . . . . . . 
        . . . . . . . . 
        . . . b . . . . 
        . . . b . . . . 
        . . . b b . b . 
        . . . b b . b . 
        `,
    img`
        . . . . . . . . 
        . . . . . . . . 
        b . . . . . . . 
        b . . b . . . . 
        b . . b b . . . 
        b . b b b . . . 
        b . b b b . b . 
        b b b b b . b . 
        `,
    img`
        . . . . . . . . 
        . . . . . . . . 
        . . . . . . . . 
        . . . . . . . b 
        . . . b . . . b 
        . . . b . . . b 
        . . . b b . b b 
        . . . b b . b b 
        `,
    img`
        . . . . . . . . 
        . . . . . . . . 
        . . . b . . . . 
        . . . b . . . . 
        . . b b . . . . 
        . . b b b . . . 
        . . b b b . . . 
        . . b b b . . . 
        `,
    img`
        . . . . . . . . 
        . . . . . . . . 
        . . . . . . . . 
        . b . . . . . . 
        . b . . . . . . 
        . b b . . . b . 
        . b b . . . b . 
        . b b . . . b . 
        `
    ]
    clouds = [img`
        ............................11.....................
        .........................1111111...................
        ........................111111111111...............
        .......................11111111111111..............
        ......................1111111111111111.............
        .....................11111111111111111.............
        ..................111111111111111111111............
        ...............1111111111111111111111111...........
        ..........1111111111111111111111111111111..........
        .........111111111111111111111111111111111.........
        ........111111111111111111111111111111111111.......
        .......111111111111111111111111111111111111111.....
        .......1111111111111111111111111111111111111111....
        .......11111111111111111111111111111111111111111...
        .......111111111111111111111111111111111111111111..
        ......1111111111111111111111111111111111111111111..
        ....111111111111111111111111111111111111111111111..
        ...ddd11111111111111111111111111111111111111111111.
        ..dddddddddddd111111111111111111111111111111111111.
        .dddddddddddddddddddddd1111111111111111111111111111
        ddddddddddddddddddddddddddddddddddddd11111111111111
        dddddddddddddddddddddddddddddddddddddddddddd111111.
        .....dddddddddddddddddddddddddddddddddddddddd......
        `, img`
        .........................11111................
        ........................1111111...............
        ......................1111111111..............
        ..................111111111111111.............
        ...............111111111111111111.............
        ..............1111111111111111111111111.......
        .............111111111111111111111111111......
        .............111111111111111111111111111......
        .............1111111111111111111111111111.....
        ............11111111111111111111111111111.....
        ............111111111111111111111111111111....
        ............111111111111111111111111111111....
        ...........11111111111111111111111111111111...
        ......11111111111111111111111111111111111111..
        .....1111111111111111111111111111111111111111.
        ....11111111111111111111111111111111111111111.
        ...1111111111111111111111111111111111111111111
        ...dddddddd11111111111111111111111111111111111
        ...dddddddddddddddddd1111111111111111111111111
        ...dddddddddddddddddddddddddd11111111111111111
        ..ddddddddddddddddddddddddddddddd1111111111111
        .dddddddddddddddddddddddddddddddddddd111111111
        ddddddddddddddddddddddddddddddddddddddddddddd.
        ddddddddddddddddd..................ddddddddd..
        `, img`
        ........11111111.................
        .......1111111111................
        ....11111111111111...............
        ...1111111111111111..............
        ..11111111111111111111111........
        ..111111111111111111111111.......
        .11111111111111111111111111......
        .111111111111111111111111111.....
        1111111111111111111111111111.....
        111111111111111111111111111111...
        .d11111111111111111111111111111..
        .dddddd1111111111111111111111111.
        ..dddddddddddd1111111111111111111
        .....ddddddddddddddddd11111111111
        ......dddddddddddddddddddddddd...
        .................................
        `, img`
        ...................1111................................................
        ..................111111...............................................
        .................11111111111111........................................
        ................1111111111111111.......................................
        ..............1111111111111111111......................................
        ............1111111111111111111111.....................................
        ...........11111111111111111111111.....................................
        ..........111111111111111111111111.....................................
        ..........1111111111111111111111111......11111.........................
        .........11111111111111111111111111...111111111........................
        .........111111111111111111111111111111111111111.......................
        .......111111111111111111111111111111111111111111......................
        ......1111111111111111111111111111111111111111111111...................
        ....11111111111111111111111111111111111111111111111111.................
        ...1111111111111111111111111111111111111111111111111111................
        ...11111111111111111111111111111111111111111111111111111...............
        ..1111111111111111111111111111111111111111111111111111111..............
        ..1111111111111111111111111111111111111111111111111111111..............
        ..11111111111111111111111111111111111111111111111111111111.............
        ..111111111111111111111111111111111111111111111111111111111............
        ..11111111111111111111111111111111111111111111111111111111111..........
        ..1111111111111111111111111111111111111111111111111111111111111........
        ..dddd11111111111111111111111111111111111111111111111111111111111111...
        .ddddddddddddddddddd1111111111111111111111111111111111111111111111111..
        ddddddddddddddddddddddddddddddddd1111111111111111111111111111111111111.
        ddddddddddddddddddddddddddddddddddddddddd11111111111111111111111111111.
        dddddddddddddddddddddddddddddddddddddddddddddddddddddd11111111111111111
        .dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd1111111111
        ..dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd1111.
        ...............ddddddddddddddddddddddddddddddd..........dddddddd.......
        `, img`
        ........................1111...........
        .................1111..111111..........
        ...............111111111111111.........
        .............111111111111111111........
        ............11111111111111111111.......
        .........111111111111111111111111......
        ........1111111111111111111111111......
        .......1111111111111111111111111111....
        ......111111111111111111111111111111...
        .....11111111111111111111111111111111..
        .....111111111111111111111111111111111.
        ....1111111111111111111111111111111111.
        ....11111111111111111111111111111111111
        ....dddddd11111111111111111111111111111
        ..ddddddddddddddddd11111111111111111111
        .ddddddddddddddddddddddddddd1111111111.
        ddddddddddddddddddddddddddddddddddddd..
        dddddddddddddddddd.....................
        `]
    enemySprite = [img`
        ........................
        ........................
        ........................
        ..........ffff..........
        ........ff1111ff........
        .......fb111111bf.......
        .......f1111111dbf......
        ......fd1111111ddf......
        ......fd111111dddf......
        ......fd111ddddddf......
        ......fd111ddddddf......
        ......fd1dddddddbf......
        ......fd1dfbddbbff......
        ......fbddfcdbbcf.......
        .....ffffccddbfff.......
        ....fcb1bbbfcffff.......
        ....f1b1dcffffffff......
        ....fdfdf..ffffffffff...
        .....f.f.....ffffff.....
        ........................
        ........................
        ........................
        ........................
        ........................
        `, img`
        . . . . f f f f f . . . . . . . 
        . . . f e e e e e f . . . . . . 
        . . f d d d d e e e f . . . . . 
        . c d f d d f d e e f f . . . . 
        . c d f d d f d e e d d f . . . 
        c d e e d d d d e e b d c . . . 
        c d d d d c d d e e b d c . f f 
        c c c c c d d d e e f c . f e f 
        . f d d d d d e e f f . . f e f 
        . . f f f f f e e e e f . f e f 
        . . . . f e e e e e e e f f e f 
        . . . f e f f e f e e e e f f . 
        . . . f e f f e f e e e e f . . 
        . . . f d b f d b f f e f . . . 
        . . . f d d c d d b b d f . . . 
        . . . . f f f f f f f f f . . . 
        `, img`
        . . f f f . . . . . . . . f f f 
        . f f c c . . . . . . f c b b c 
        f f c c . . . . . . f c b b c . 
        f c f c . . . . . . f b c c c . 
        f f f c c . c c . f c b b c c . 
        f f c 3 c c 3 c c f b c b b c . 
        f f b 3 b c 3 b c f b c c b c . 
        . c 1 b b b 1 b c b b c c c . . 
        . c 1 b b b 1 b b c c c c . . . 
        c b b b b b b b b b c c . . . . 
        c b 1 f f 1 c b b b b f . . . . 
        f f 1 f f 1 f b b b b f c . . . 
        f f 2 2 2 2 f b b b b f c c . . 
        . f 2 2 2 2 b b b b c f . . . . 
        . . f b b b b b b c f . . . . . 
        . . . f f f f f f f . . . . . . 
        `, img`
        .............ccfff..............
        ............cddbbf..............
        ...........cddbbf...............
        ..........fccbbcf............ccc
        ....ffffffccccccff.........ccbbc
        ..ffbbbbbbbbbbbbbcfff.....cdbbc.
        ffbbbbbbbbbcbcbbbbcccff..cddbbf.
        fbcbbbbbffbbcbcbbbcccccfffdbbf..
        fbbb1111ff1bcbcbbbcccccccbbbcf..
        .fb11111111bbbbbbcccccccccbccf..
        ..fccc33cc11bbbbccccccccfffbbcf.
        ...fc131c111bbbcccccbdbc...fbbf.
        ....f33c111cbbbfdddddcc.....fbbf
        .....ff1111fbdbbfddcc........fff
        .......cccccfbdbbfc.............
        .............fffff..............
        `, img`
        ....ffffff.........ccc..
        ....ff22ccf.......cc4f..
        .....ffccccfff...cc44f..
        ....cc24442222cccc442f..
        ...c9b4422222222cc422f..
        ..c999b2222222222222fc..
        .c2b99111b222222222c22c.
        c222b111992222ccccccc22f
        f222222222222c222ccfffff
        .f2222222222442222f.....
        ..ff2222222cf442222f....
        ....ffffffffff442222c...
        .........f2cfffc2222c...
        .........fcc2ffffffff...
        ..........fc2ffff.......
        ...........fffff........
        `]
}
controller.down.onEvent(ControllerButtonEvent.Pressed, function () {
    bunny.y += 10
    bunny.y += -10
})
// info.changeScoreBy(0)
sprites.onDestroyed(SpriteKind.Enemy, function (sprite) {
	
})
function startLevel () {
    game.splash("level up", "good luck!")
    light.showAnimation(light.sparkleAnimation, 3000)
    light.clear()
    scene.setBackgroundColor(level + 8)
    scene.setBackgroundImage(img`
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        `)
    bunny = sprites.create(img`
        ........................
        ........................
        ........................
        ..............c.........
        .......c................
        ........................
        .........c..5.5.........
        ...........5...55.......
        ..............5f........
        ..................5.....
        ......b..........5...5..
        ............5....b.3....
        .........d....5.b.......
        ........d....d.d........
        .........d.5.......5....
        ..........b.55..........
        .......d...b5..5c.......
        .....d..d.d..b..........
        ..d....d......c.........
        ...d..d....55d..........
        ...b....b.d5............
        .......b.bd.............
        ........c..dd...........
        ........................
        `, SpriteKind.Player)
    gravity = 260
    bunny.ay = gravity
    bunny.x = 20
    controller.moveSprite(bunny, 35, 0)
    bunny.setStayInScreen(true)
    bird = sprites.create(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . 3 3 . . . . . . . . . 
        . . . . . 3 . . . . . . . . . . 
        . . . . 3 3 3 3 3 3 . . . . . . 
        . . . . 3 . . . . . 3 3 . . . . 
        . . . . 3 . . . . . . 3 3 . . . 
        . . . . 3 . . . . . . . 3 3 . . 
        . . . . 3 . . . . . . . . 3 . . 
        . . . . . 3 3 . . . . . . 3 . . 
        . . . . . . . 3 . . . . . 3 . . 
        . . . . . . . . 3 3 3 3 3 . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `, SpriteKind.Enemy)
    bird.setPosition(160, 20)
    bird.setVelocity(-120, 0)
    bird.setFlag(SpriteFlag.AutoDestroy, false)
    setupFrames()
}
function createTree () {
    tree = sprites.createProjectileFromSide(trees[level], -50, 0)
    tree.bottom = 100
    tree.z = -1
}
sprites.onOverlap(SpriteKind.Player, SpriteKind.Enemy, function (sprite, otherSprite) {
    light.showAnimation(light.theaterChaseAnimation, 500)
    light.clear()
})
let grass: Sprite = null
let projectile: Sprite = null
let obstacleImage: Image = null
let tree: Sprite = null
let enemySprite: Image[] = []
let grassImages: Image[] = []
let trees: Image[] = []
let obstacles: Image[] = []
let bunnyFrames: Image[] = []
let bird: Sprite = null
let birdFrames: Image[] = []
let clouds: Image[] = []
let cloud: Sprite = null
let gravity = 0
let bunny: Sprite = null
let projectile2: Sprite = null
let level = 0
info.setLife(4)
level = 0
startLevel()
game.onUpdate(function () {
    if (bunny.bottom > 110) {
        bunny.bottom = 110
        bunny.vy = 0
        bunny.ay = 0
        animation.runImageAnimation(
        bunny,
        bunnyFrames,
        50,
        true
        )
    }
})
game.onUpdateInterval(randint(2000, 5000), function () {
    obstacleImage = obstacles[randint(0, obstacles.length - 1)]
    projectile = sprites.createProjectileFromSide(obstacleImage, -100, 0)
    projectile.bottom = 110
    projectile.setKind(SpriteKind.Obstacle)
})
game.onUpdateInterval(1000, function () {
    if (Math.percentChance(40)) {
        createCloud()
    }
})
forever(function () {
    if (Math.percentChance(60)) {
        createTree()
        if (Math.percentChance(50)) {
            pause(randint(150, 300))
            createTree()
        }
    }
    pause(1500)
})
game.onUpdateInterval(randint(1500, 3500), function () {
    bird = sprites.create(img`
        . . f f f . . . . . . . . f f f 
        . f f c c . . . . . . f c b b c 
        f f c c . . . . . . f c b b c . 
        f c f c . . . . . . f b c c c . 
        f f f c c . c c . f c b b c c . 
        f f c 3 c c 3 c c f b c b b c . 
        f f b 3 b c 3 b c f b c c b c . 
        . c 1 b b b 1 b c b b c c c . . 
        . c 1 b b b 1 b b c c c c . . . 
        c b b b b b b b b b c c . . . . 
        c b 1 f f 1 c b b b b f . . . . 
        f f 1 f f 1 f b b b b f c . . . 
        f f 2 2 2 2 f b b b b f c c . . 
        . f 2 2 2 2 b b b b c f . . . . 
        . . f b b b b b b c f . . . . . 
        . . . f f f f f f f . . . . . . 
        `, SpriteKind.Enemy)
    bird.setPosition(160, randint(0, 80))
    bird.setVelocity(-70, randint(-10, 10))
    bird.setFlag(SpriteFlag.AutoDestroy, true)
    bird.setImage(enemySprite[level])
})
game.onUpdateInterval(200, function () {
    if (Math.percentChance(40)) {
        grass = sprites.createProjectileFromSide(grassImages[randint(0, grassImages.length - 1)], -70, 0)
        grass.bottom = 100
        grass.z = -1
    }
})
